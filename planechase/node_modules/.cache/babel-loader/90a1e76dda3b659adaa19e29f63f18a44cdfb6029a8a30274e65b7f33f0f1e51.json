{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getAllPlanes, makeNewSession } from \"../tools/fetches.js\";\nimport { getMappedPlaneList } from '../tools/utils.js';\nimport { planeImages } from '../tools/consts.js';\nexport default function NewSession() {\n  _s();\n  function shuffleDeck(deck) {\n    for (var i = deck.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = deck[i];\n      deck[i] = deck[j];\n      deck[j] = temp;\n    }\n    return deck;\n  }\n  function makeShuffledPlanarDeck(planeList) {\n    const mappedPlaneList = getMappedPlaneList(planeList, planeImages);\n    const shuffledDeck = shuffleDeck(mappedPlaneList);\n    return shuffledDeck;\n  }\n  useEffect(() => {\n    getAllPlanes().then(planeList => {\n      console.log('planeList: ' + planeList.length);\n      const shuffledPlanarDeck = makeShuffledPlanarDeck(planeList);\n      const firstPlane = shuffledPlanarDeck.pop();\n      makeNewSession(firstPlane, shuffledPlanarDeck).then(newSession => {\n        setSession(newSession);\n        console.log(newSession);\n        navigate(`/${newSession.code}`, {\n          state: newSession\n        });\n      });\n    });\n  }, []);\n  const [session, setSession] = useState(null);\n  const navigate = useNavigate();\n  // getAllPlanes().then(planeList => {\n  //   console.log('planeList: ' + planeList.length);\n  //   const shuffledPlanarDeck = makeShuffledPlanarDeck(planeList);\n  //   const firstPlane = shuffledPlanarDeck.pop();\n\n  //   makeNewSession(firstPlane, shuffledPlanarDeck).then(newSession => {\n  //     setSession(newSession);\n  //     console.log(newSession);\n  //     navigate(`/${newSession.code}`, { state: newSession });\n  //   });\n  // });\n\n  // if (session) {\n  //   navigate(`/${session.code}`, { state: session });\n  // }\n}\n_s(NewSession, \"V48p7J/5iJHBj/toRmd3ZB6sTIQ=\", false, function () {\n  return [useNavigate];\n});\n_c = NewSession;\nvar _c;\n$RefreshReg$(_c, \"NewSession\");","map":{"version":3,"names":["useState","useEffect","useNavigate","getAllPlanes","makeNewSession","getMappedPlaneList","planeImages","NewSession","_s","shuffleDeck","deck","i","length","j","Math","floor","random","temp","makeShuffledPlanarDeck","planeList","mappedPlaneList","shuffledDeck","then","console","log","shuffledPlanarDeck","firstPlane","pop","newSession","setSession","navigate","code","state","session","_c","$RefreshReg$"],"sources":["/Users/danhuber/Desktop/development/planechase-new/planechase/src/planechase/NewSession.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getAllPlanes, makeNewSession } from \"../tools/fetches.js\";\nimport { getMappedPlaneList } from '../tools/utils.js';\nimport { planeImages } from '../tools/consts.js';\n\nexport default function NewSession() {\n  function shuffleDeck(deck) {\n    for (var i = deck.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = deck[i];\n      deck[i] = deck[j];\n      deck[j] = temp; \n    }\n\n    return deck;\n  }\n\n  function makeShuffledPlanarDeck(planeList) {\n    const mappedPlaneList = getMappedPlaneList(planeList, planeImages);\n    const shuffledDeck = shuffleDeck(mappedPlaneList);\n    return shuffledDeck\n  }\n\n  useEffect(() => {\n    getAllPlanes().then(planeList => {\n      console.log('planeList: ' + planeList.length);\n      const shuffledPlanarDeck = makeShuffledPlanarDeck(planeList);\n      const firstPlane = shuffledPlanarDeck.pop();\n      \n      makeNewSession(firstPlane, shuffledPlanarDeck).then(newSession => {\n        setSession(newSession);\n        console.log(newSession);\n        navigate(`/${newSession.code}`, { state: newSession });\n      });\n    });\n  }, []);\n\n  \n  const [session, setSession] = useState(null);\n  const navigate = useNavigate();\n  // getAllPlanes().then(planeList => {\n  //   console.log('planeList: ' + planeList.length);\n  //   const shuffledPlanarDeck = makeShuffledPlanarDeck(planeList);\n  //   const firstPlane = shuffledPlanarDeck.pop();\n    \n  //   makeNewSession(firstPlane, shuffledPlanarDeck).then(newSession => {\n  //     setSession(newSession);\n  //     console.log(newSession);\n  //     navigate(`/${newSession.code}`, { state: newSession });\n  //   });\n  // });\n\n  // if (session) {\n  //   navigate(`/${session.code}`, { state: session });\n  // }\n}"],"mappings":";AAAA,SAAQA,QAAQ,EAAEC,SAAS,QAAO,OAAO;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,YAAY,EAAEC,cAAc,QAAQ,qBAAqB;AAClE,SAASC,kBAAkB,QAAQ,mBAAmB;AACtD,SAASC,WAAW,QAAQ,oBAAoB;AAEhD,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACnC,SAASC,WAAWA,CAACC,IAAI,EAAE;IACzB,KAAK,IAAIC,CAAC,GAAGD,IAAI,CAACE,MAAM,GAAG,CAAC,EAAED,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;MACxC,IAAIE,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,IAAIL,CAAC,GAAG,CAAC,CAAC,CAAC;MAC3C,IAAIM,IAAI,GAAGP,IAAI,CAACC,CAAC,CAAC;MAClBD,IAAI,CAACC,CAAC,CAAC,GAAGD,IAAI,CAACG,CAAC,CAAC;MACjBH,IAAI,CAACG,CAAC,CAAC,GAAGI,IAAI;IAChB;IAEA,OAAOP,IAAI;EACb;EAEA,SAASQ,sBAAsBA,CAACC,SAAS,EAAE;IACzC,MAAMC,eAAe,GAAGf,kBAAkB,CAACc,SAAS,EAAEb,WAAW,CAAC;IAClE,MAAMe,YAAY,GAAGZ,WAAW,CAACW,eAAe,CAAC;IACjD,OAAOC,YAAY;EACrB;EAEApB,SAAS,CAAC,MAAM;IACdE,YAAY,CAAC,CAAC,CAACmB,IAAI,CAACH,SAAS,IAAI;MAC/BI,OAAO,CAACC,GAAG,CAAC,aAAa,GAAGL,SAAS,CAACP,MAAM,CAAC;MAC7C,MAAMa,kBAAkB,GAAGP,sBAAsB,CAACC,SAAS,CAAC;MAC5D,MAAMO,UAAU,GAAGD,kBAAkB,CAACE,GAAG,CAAC,CAAC;MAE3CvB,cAAc,CAACsB,UAAU,EAAED,kBAAkB,CAAC,CAACH,IAAI,CAACM,UAAU,IAAI;QAChEC,UAAU,CAACD,UAAU,CAAC;QACtBL,OAAO,CAACC,GAAG,CAACI,UAAU,CAAC;QACvBE,QAAQ,CAAE,IAAGF,UAAU,CAACG,IAAK,EAAC,EAAE;UAAEC,KAAK,EAAEJ;QAAW,CAAC,CAAC;MACxD,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAGN,MAAM,CAACK,OAAO,EAAEJ,UAAU,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM8B,QAAQ,GAAG5B,WAAW,CAAC,CAAC;EAC9B;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;AACF;AAACM,EAAA,CAlDuBD,UAAU;EAAA,QAkCfL,WAAW;AAAA;AAAAgC,EAAA,GAlCN3B,UAAU;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}